{"ast":null,"code":"var _jsxFileName = \"X:\\\\SIH\\\\Meri-Sadak\\\\screens\\\\Home.js\";\nimport React, { useContext, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Card, FAB } from 'react-native-paper';\nimport { myContext } from \"../reducers/reducer\";\n\nvar Home = function Home(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(myContext),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var data = state.data,\n      loading = state.loading;\n  useEffect(function () {\n    fetchData();\n  }, []);\n  var ngrok_url = \"http://54b34a028848.ngrok.io\";\n\n  var fetchData = function fetchData() {\n    fetch(\"\" + ngrok_url).then(function (res) {\n      return res.json();\n    }).then(function (results) {\n      dispatch({\n        type: \"ADD_DATA\",\n        payload: results\n      });\n    }).catch(function (err) {\n      Alert.alert(\"Could not load data from server.\");\n    }).finally(function () {\n      return dispatch({\n        type: \"SET_LOADING\",\n        payload: false\n      });\n    });\n  };\n\n  var renderList = function renderList(item) {\n    return React.createElement(Card, {\n      style: styles.myCard,\n      key: item._id.toString(),\n      onPress: function onPress() {\n        navigation.navigate(\"RoadProfile\", {\n          item: item\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: styles.flexRow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: styles.cardView,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }\n    }, React.createElement(View, {\n      style: styles.oneUnit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 25\n      }\n    }, React.createElement(Image, {\n      source: {\n        uri: item.imageUrls[0]\n      },\n      style: {\n        width: 70,\n        height: 70,\n        borderRadius: 35\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 29\n      }\n    }), React.createElement(Text, {\n      style: styles.text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 29\n      }\n    }, item.roadName))), React.createElement(View, {\n      style: {\n        margin: 15\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }\n    }, \"Road Number: \", item.roadNumber), React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, \"Chainage From: \", item.fromChainage, \" To: \", item.toChainage), React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, \"PCI: \", item.pci))));\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: data,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return renderList(item);\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item._id.toString();\n    },\n    refreshing: loading,\n    onRefresh: function onRefresh() {\n      return fetchData();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }), React.createElement(FAB, {\n    onPress: function onPress() {\n      return navigation.navigate(\"Create\");\n    },\n    style: styles.fab,\n    small: false,\n    theme: \"light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  myCard: {\n    margin: 5,\n    padding: 5,\n    backgroundColor: '#fff'\n  },\n  cardView: {\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  flexRow: {\n    flexDirection: 'row'\n  },\n  text: {\n    color: 'black',\n    fontWeight: 'bold'\n  },\n  oneUnit: {\n    marginLeft: 10,\n    justifyContent: 'center'\n  },\n  fab: {\n    position: 'absolute',\n    margin: 25,\n    right: 0,\n    bottom: 0,\n    backgroundColor: \"#000\"\n  }\n});\nexport default Home;","map":{"version":3,"sources":["X:/SIH/Meri-Sadak/screens/Home.js"],"names":["React","useContext","useEffect","Card","FAB","myContext","Home","navigation","state","dispatch","data","loading","fetchData","ngrok_url","fetch","then","res","json","results","type","payload","catch","err","Alert","alert","finally","renderList","item","styles","myCard","_id","toString","navigate","flexRow","cardView","oneUnit","uri","imageUrls","width","height","borderRadius","text","roadName","margin","roadNumber","fromChainage","toChainage","pci","flex","fab","StyleSheet","create","padding","backgroundColor","flexDirection","alignItems","justifyContent","color","fontWeight","marginLeft","position","right","bottom"],"mappings":"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","sourcesContent":["\r\nimport React, { useContext , useEffect} from 'react';\r\nimport { StyleSheet, Text, View, Image, FlatList, Alert} from 'react-native';\r\nimport { Card, FAB} from 'react-native-paper';\r\nimport {myContext} from '../reducers/reducer';\r\n\r\nconst Home = ({navigation}) => {\r\n    const {state, dispatch} = useContext(myContext);\r\n    const {data, loading} = state;\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n    }, [])\r\n\r\n    const ngrok_url = \"http://54b34a028848.ngrok.io\"\r\n\r\n    const fetchData = () => {\r\n        fetch(`${ngrok_url}`)\r\n        .then(res =>res.json())\r\n        .then(results => {\r\n            // setData(results)\r\n            dispatch({type:\"ADD_DATA\", payload:results})\r\n        })\r\n        .catch((err) => {Alert.alert(\"Could not load data from server.\")})\r\n        .finally(() => (\r\n            //setLoading(false)\r\n            dispatch({type:\"SET_LOADING\", payload:false})\r\n            ))\r\n    }\r\n\r\n    const renderList = ((item) => {\r\n        return (\r\n            <Card\r\n              style={styles.myCard}\r\n              key={item._id.toString()}\r\n              onPress={() => {navigation.navigate(\"RoadProfile\", {item})}}\r\n            >\r\n                <View style={styles.flexRow}>\r\n                    <View style={styles.cardView}>\r\n                        <View style={styles.oneUnit}>\r\n                            <Image source={{uri: item.imageUrls[0]}} \r\n                                style= {{width: 70, height: 70, borderRadius: 35}}\r\n                            />\r\n                            <Text style={styles.text}>{item.roadName}</Text>\r\n                        </View>\r\n                    </View>\r\n                    <View style={{margin: 15}}>\r\n                        <Text>Road Number: {item.roadNumber}</Text>\r\n                        <Text>Chainage From: {item.fromChainage} To: {item.toChainage}</Text>\r\n                        <Text>PCI: {item.pci}</Text>\r\n                    </View>\r\n                </View>\r\n            </Card>\r\n        )\r\n    })\r\n    return (\r\n        <View style={{flex:1}}>\r\n            <FlatList \r\n              data={data}\r\n              renderItem={({item}) =>{\r\n                  return renderList(item)\r\n              }}\r\n              keyExtractor={item => item._id.toString()}\r\n              refreshing={loading}\r\n              onRefresh={() => fetchData()}\r\n            />\r\n            <FAB\r\n              onPress={() => navigation.navigate(\"Create\")}\r\n              style={styles.fab}\r\n              small={false}\r\n              theme=\"light\"\r\n              // icon=\"plus\"\r\n            />\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    myCard: {\r\n        margin: 5,\r\n        padding: 5,\r\n        backgroundColor: '#fff'\r\n    },\r\n    cardView: {\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    flexRow: {\r\n        flexDirection: 'row'\r\n    },\r\n    text: {\r\n        color: 'black',\r\n        fontWeight:'bold'\r\n    },\r\n    oneUnit: {\r\n        marginLeft: 10,\r\n        justifyContent: 'center'\r\n    },\r\n    fab: {\r\n        position: 'absolute',\r\n        margin: 25,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: \"#000\"\r\n    }\r\n})\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}